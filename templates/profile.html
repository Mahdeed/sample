{% extends "layout.html" %}
{% block title %}
    Edit Profile
{% endblock %}

{% block extra_style %}
    <link href="{{ url_for('static', filename='edit_profile/bootstrap_product.min.css') }}" rel="stylesheet">
    <style type="text/css">
        h3.h3{text-align:center;margin:1em;text-transform:capitalize;font-size:1.7em;}

.product-grid9,.product-grid9 .product-image9{position:relative}
.product-grid9{font-family:Poppins,sans-serif;z-index:1}
.product-grid9 .product-image9 a{display:block}
.product-grid9 .product-image9 img{width:100%;height:auto}
.product-grid9 .pic-1{opacity:1;transition:all .5s ease-out 0s}
.product-grid9:hover .pic-1{opacity:0}
.product-grid9 .pic-2{position:absolute;top:0;left:0;opacity:0;transition:all .5s ease-out 0s}
.product-grid9:hover .pic-2{opacity:1}
.product-grid9 .product-full-view{color:#505050;background-color:#fff;font-size:16px;height:45px;width:45px;padding:18px;border-radius:100px 0 0;display:block;opacity:0;position:absolute;right:0;bottom:0;transition:all .3s ease 0s}
.product-grid9 .product-full-view:hover{color:#c0392b}
.product-grid9:hover .product-full-view{opacity:1}
.product-grid9 .product-content{padding:12px 12px 0;overflow:hidden;position:relative}
.product-content .rating{padding:0;margin:0 0 7px;list-style:none}
.product-grid9 .rating li{font-size:12px;color:#ffd200;transition:all .3s ease 0s}
.product-grid9 .rating li.disable{color:rgba(0,0,0,.2)}
.product-grid9 .title{font-size:16px;font-weight:400;text-transform:capitalize;margin:0 0 3px;transition:all .3s ease 0s}
.product-grid9 .title a{color:rgba(0,0,0,.5)}
.product-grid9 .title a:hover{color:#c0392b}
.product-grid9 .price{color:#000;font-size:17px;margin:0;display:block;transition:all .5s ease 0s}
.product-grid9:hover .price{opacity:0}
.product-grid9 .add-to-cart{display:block;color:#c0392b;font-weight:600;font-size:14px;opacity:0;position:absolute;left:10px;bottom:-20px;transition:all .5s ease 0s}
.product-grid9:hover .add-to-cart{opacity:1;bottom:0}
@media only screen and (max-width:990px){.product-grid9{margin-bottom:30px}
}

    </style>
    <script src="{{ url_for('static', filename='edit_profile/jquery-1.11.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='edit_profile/bootstrap_product.min.js') }}"></script>
    <script src="{{ url_for('static', filename='edit_profile/jquery.min.js') }}"></script>
    <link href="{{ url_for('static', filename='edit_profile/bootstrap.min.css') }}" rel="stylesheet">
<style type="text/css">
    	body{
    margin-top:20px;
    background:#f8f8f8
}
    </style>
{% endblock %}

{% block body %}
    <link href="{{ url_for('static', filename='edit_profile/font-awesome.min.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='edit_profile/font-awesome_product.min.css') }}" />
<div class="container">
<div class="row flex-lg-nowrap">
  <div class="col">
    <div class="row">
      <div class="col mb-3">
        <div class="card">
          <div class="card-body">
            <div class="e-profile">
              <div class="row">
                <div class="col-12 col-sm-auto mb-3">
                  <div class="mx-auto" style="width: 140px;">
                    <div class="d-flex justify-content-center align-items-center rounded" style="height: 140px; background-color: black;">
                      <span style="color: navajowhite; font: bold 50pt Arial;">{{username[0]}}</span>
                    </div>
                  </div>
                </div>
                <div class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
                  <div style="margin-top: 45px" class="text-center text-sm-left mb-2 mb-sm-0">
                    <h4 class="pt-sm-2 pb-1 mb-0 text-nowrap">{{ username }}</h4>
{#                      <div class="mt-2">#}
{#                      <button class="btn btn-primary" type="button">#}
{#                        <i class="fa fa-fw fa-camera"></i>#}
{#                        <input type="file" id="img" name="img" accept="image/*">#}
{#                      </button>#}
{#                    </div>#}
                  </div>
                  <div class="text-center text-sm-right">
                    <span class="badge badge-secondary">{{user}}</span>
                  </div>
                </div>
              </div>
                <ul class="nav nav-tabs nav-pills" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Profile</a>
  </li>
                    {% if user == "seller" %}
  <li class="nav-item">
    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Product</a>
  </li>
                    {% endif %}
</ul>
<div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                          <form class="form" novalidate="">
                    <div class="row">
                      <div class="col">
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Full Name</label>
                              <input class="form-control" type="text" name="name" placeholder="{{ username }}" value="{{ username }}">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Email</label>
                              <input class="form-control" name="email" type="text" placeholder="{{ email }}">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Phone</label>
                              <input class="form-control" name="phoneNumber" type="text" placeholder="{{ phone }}">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col mb-3">
                            <div class="form-group">
                              <label>Address</label>
                              <textarea class="form-control" name="address" rows="5" placeholder="{{ address }}"></textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12 col-sm-6 mb-3">
                        <div class="mb-2"><b>Change Password</b></div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Current Password</label>
                              <input class="form-control" type="password" placeholder="••••••">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>New Password</label>
                              <input class="form-control" type="password" placeholder="••••••">
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <div class="form-group">
                              <label>Confirm <span class="d-none d-xl-inline">Password</span></label>
                              <input class="form-control" type="password" placeholder="••••••"></div>
                          </div>
                        </div>
                      </div>

                    </div>
                    <div class="row">
                      <div class="col d-flex justify-content-end">
                        <button class="btn btn-primary" type="submit">Save Changes</button>
                      </div>
                    </div>
                  </form>

    </div>
  {% if user == "seller" %}
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
    {% if seller_product %}
        <div style="margin-top: 50px" class="row">
            {% set index = namespace(value=0) %}
            {% for product in seller_product %}
            <div class="col-md-3 col-sm-6">
                <div class="product-grid9">
                    <div class="product-image9">
                        <a href="{{ url_for('product_detail', id = product['id']) }}">
                            <img id="image_{{ index.value }}" src="{{ url_for('static', filename='images/item-'+product['id']+'.jpg') }}" alt="IMG-PRODUCT" title="{{ product['id'] }}">
                        </a>
                        <a href="{{ url_for('product_detail', id = product['id']) }}" class="fa fa-search product-full-view"></a>
                    </div>
                    <div class="product-content">
                        <a href="{{ url_for('edit_product', id = product['id']) }}"><button class="btn btn-secondary">Edit</button></a>
                        <ul class="rating">
                        {% if not(product['rating'] == '0') %}
                            {% for rating in range(0,product['rating']) %}
                            <li class="fa fa-star"></li>
                            {% endfor %}
                        {% endif %}
                        </ul>
                        <h3 class="title"><a href="{{ url_for('product_detail', id = product['id']) }}">{{ product['name'] }}</a></h3>
                        <div class="price">{{ product['price'] }}</div>
                        <a class="add-to-cart" href="{{ url_for('product_detail', id = product['id']) }}">VIEW PRODUCTS</a>
                    </div>
                </div>
            </div>
            {% set index.value = index.value + 1 %}
            {% endfor %}
        </div>
    {% endif %}
    <div style="margin-top: 50px" class="row">
      <div class="col d-flex justify-content-center">
        <a href="{{ url_for('add_product') }}"><button class="btn btn-primary" >Add New</button></a>
      </div>
    </div>
    </div>
    {% endif %}
</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-md-3 mb-3">
        <div class="card mb-3">
          <div class="card-body">
            <div class="px-xl-3">
              <form action="{{url_for('logout')}}" method="post">
                <button class="btn btn-block btn-secondary">
                <i class="fa fa-sign-out"></i>
                <span>Logout</span>
              </button>
              </form>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-body">
            <h6 class="card-title font-weight-bold">Support</h6>
            <p class="card-text">Get fast, free help from our friendly assistants.</p>
            <a href="{{ url_for('contact') }}"><button type="button" class="btn btn-primary">Contact Us</button></a>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
</div>
{% endblock %}

{% block extra_script %}
<script src="{{ url_for('static', filename='edit_profile/bootstrap.min.js') }}"></script>
{% endblock %}
